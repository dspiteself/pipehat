<!DOCTYPE html><html><head><meta charset="UTF-8"/><style type="text/css">:root {
  --baseline: 24px;
/*  --background-color: #090415;*/
  --background-color: #FFFFFF;
/*  --text-color-default: #F9EEF9;*/
  --text-color-default: #333333;
  --color-emphasis-dark: #1B0C40;
  --font-family-monospace: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
  --font-family-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --font-family-system-serif: -apple-system-ui-serif, ui-serif, 'Georgia', serif;

  --color-red: #AA3731;
  --color-blue: #325CC0;
  --color-green: #448C27;
  --color-violet: #7A3E9D;
  --color-yellow: #FFFABC;
}

html {
  margin: 0;
  padding: 0;
  line-height: var(--baseline);
}

h1, h2, h3, h4, h5, h6 {
  font-weight: normal;
}

body {
  background: var(--background-color);
  color: var(--text-color-default);
  font-family: var(--font-family-system);
  margin: 0;
  padding: 0 0 0 var(--baseline);
}

p {
  margin: 0 0 var(--baseline) 0;
}

header h1 {
  margin: calc(var(--baseline) * 4) 0 0 0;
  font-family: var(--font-family-system-serif);
  line-height: 1;
}

h2 {
  font-family: var(--font-family-system-serif);
  font-size: 20px;
  margin: calc(var(--baseline) * 2) 0 0 0;
  line-height: var(--baseline);
}

.columns {
  display: flex;
}

.columns .column:first-child {
  max-width: 80ch;
}

.columns .column:last-child {
  width: 100%;
}

.toc h3 a:any-link {
  color: var(--text-color-default);
}

.toc h3 a:hover {
  color: var(--text-color-default);
  text-decoration: underline;
}

main {
  margin-top: calc(var(--baseline) * -2);
}

main .namespace header h1 {
  font-family: var(--font-family-system-serif);
}

main .namespace header .author {
  font-size: .6em;
}

a:link, a:visited {
  color: var(--color-blue);
  text-decoration: none;
}

ul {
  margin: var(--baseline) 0;
}

.docstring {
  margin: var(--baseline) 0 0 0;
}

.docstring-pre, pre {
  margin: 0 0 var(--baseline) 0;
  padding: 0;
  line-height: var(--baseline);
}

.documentables {
  margin-bottom: calc(var(--baseline) * 2);
}

.documentables .documentable:first-of-type {
  margin: var(--baseline) 0;
}

.documentables .documentable {
  margin: calc(var(--baseline) * 2) 0;
}

.documentables .documentable h3 {
  display: flex;
  align-items: center;
  font-size: 16px;
  font-weight: normal;
  margin: 0;
  padding: 0;
}

.arglists {
  list-style: none;
  margin: 0;
  padding: 0;
}

code {
  font-family: var(--font-family-monospace);
  font-size: 90%;
  line-height: 0;
}

.toc {
  height: 100vh;
  overflow-y: auto;
  padding-top: calc(var(--baseline) * 2);
  padding-right: var(--baseline);
  position: sticky;
  top: 0;
  text-align: right;
}

.toc .namespace {
  margin-bottom: calc(var(--baseline) * 2);
}

.toc h3, .toc h4 {
  margin: 0;
}

.toc h4 {
  font-weight: 500;
  margin-bottom: 0;
  margin-top: var(--baseline);
}

.toc ul {
  list-style: none;
  margin: 0;
}

.toc li {
  margin: 0;
}

.toc .specs a:link,
.toc .specs a:visited {
  color: var(--color-green);
}

.name {
  font-family: var(--font-family-system);
  font-size: 16px;
  font-weight: 500;
  margin: 0;
}

.name.spec {
  color: var(--color-green);
  margin-bottom: var(--baseline);
}

.name:hover .anchor {
  color: gray;
  visibility: visible;
}

h1:hover .anchor {
  color: gray;
  visibility: visible;
}

.anchor {
  color: gray;
  margin-left: -12px;
  text-decoration: none;
  visibility: hidden;
}

h1 .anchor {
  margin-left: -17px;
}

/* DETAILS */

details {
  margin-top: var(--baseline);
}

details summary {
  font-variant: small-caps;
  text-transform: lowercase;
  font-size: .8em;
}

/* TAGS */

.tags {
  margin-left: .5em;
  font-size: .75em;
}

.tag {
  padding: .25em .5em;
  margin-right: .5em;
  border-radius: 5px;
}

.tag-half {
  padding: .25em .5em;
}

.tag-half:first-child {
  background: #efefef;
  opacity: .8;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.tag-half:nth-child(2) {
  background: #ddd;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  margin-right: .5em;
}

.tag {
  background: #efefef;
  opacity: .8;
}

.tag.deprecated {
  background: rgb(255, 45, 28);
  color: #ffffff;
}

.tag.dynamic {
  background: rgb(249, 216, 122);
  color: rgb(116, 64, 19);
}

.tag.macro {
  background: rgb(222, 250, 243);
  color: rgb(104, 159, 164);
}

.tag.multimethod {
  background: #fff5cc;
  color: #675716;
}

.tag.special-form {
  background: rgb(122, 250, 143);
  color: rgb(4, 149, 54);
}

/* SYNTAX HIGHLIGHTING */

/*
Colors adapted from the Alabaster color scheme by Nikita Prokopov:

https://github.com/tonsky/sublime-scheme-alabaster
*/

.var {
  color: var(--color-blue);
}

.punctuation {
  opacity: .5;
}

.symbol {

}

.dispatch, .metadata, .quote, .syntax-quote, .unquote {
  color: var(--color-red);
}

/*.special-symbol {
  color: #AA3731;
}*/

.comma {
  opacity: .5;
}

.comment {
  background: var(--color-yellow);
  color: #494732;
}

.keyword {
  color: var(--color-violet);
}

.string {
  color: var(--color-green);
}

</style></head><body><div class="columns"><div class="column"><main><div><section class="namespace"><header id="ns___pipehat.api"><h1><a class="anchor" aria-hidden="true" href="#ns___pipehat.api">§</a> <span>pipehat.api</span></h1><div class="docstring"><p>Read and write vertical bar encoded HL7 messages (v2.x).</p></div></header><section class="documentables publics"><h2>Publics</h2><div><div class="documentable" id="read"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#read">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L17">read</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">reader</span><span class="punctuation">]</span></span></code></li><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">reader</span> <span class="symbol">options</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a <code>java.io.PushbackReader</code>, parse the HL7 message in the reader and return the result.</p><p>Options:</p><p><code>:protocol</code>: Iff <code>:mllp</code>, enable MLLP mode. In MLLP mode, the parser discards every character preceding the MLLP start-of-block (0x0B) character.</p></div></div></div><div class="documentable" id="read-string"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#read-string">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L31">read-string</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">s</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a string containing a HL7 message, parse the string and return the result.</p></div></div></div><div class="documentable" id="read%2Bstring"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#read%2Bstring">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L65">read+string</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">reader</span><span class="punctuation">]</span></span></code></li><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">reader</span> <span class="symbol">options</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a <code>java.io.Reader</code>, parse the HL7 message in the reader and return a two- element vector where the first element is the parsed message and the second element is a string containing the message.</p><p>Same options as read.</p><p>Caller must close the reader, as with <code>read</code>.</p></div></div></div><div class="documentable" id="shape"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#shape">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L87">shape</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">message</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a HL7 message parsed by read, shape it into a map that's easy to reach into with Clojure core functions. For example:</p><pre><code>user=&gt; (get-in
         (-&gt; &quot;MSH|^~\&amp;|ACME&quot; read-string shape)
         [&quot;MSH&quot; 0 [&quot;MSH&quot; 3]])
;;=&gt; &quot;ACME&quot;
</code></pre><p>Shaping is a lossy operation: you CAN NOT round-trip a shaped message back into a HL7 string.</p><p>Shaping is therefore only useful if you need to extract data from a message. It is not useful if you need to update a message.</p></div></div></div><div class="documentable" id="write"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#write">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L106">write</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">writer</span> <span class="symbol">message</span><span class="punctuation">]</span></span></code></li><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">writer</span> <span class="symbol">message</span> <span class="symbol">options</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a <code>java.io.BufferedWriter</code> and a vector representing a HL7 message (presumably parsed by read), write the message into the writer.</p><p>Options:</p><p><code>:protocol</code>: Iff <code>:mllp</code>, wrap message with MLLP start-of-block (0x0B) and end-of-block (0x1C) characters.</p></div></div></div><div class="documentable" id="write-string"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#write-string">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L126">write-string</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">message</span><span class="punctuation">]</span></span></code></li><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">message</span> <span class="symbol">options</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a vector representing a HL7 message (presumably parsed by <code>read</code>), write the message into a string and return the string.</p></div></div></div><div class="documentable" id="ack"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#ack">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L148">ack</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">writer</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a <code>java.io.BufferedWriter</code>, write a Commit Acknowledgement Block (ACK) into the writer and flush.</p></div></div></div><div class="documentable" id="nak"><h3><p class="name"><a class="anchor" aria-hidden="true" href="#nak">§</a> <a href="https://github.com/eerohele/pipehat/blob/31bfd28ffbde3123353a7b7c955d9d42933fe7db/src/pipehat/api.clj#L159">nak</a></p><span class="tags"><span class="tag function">function</span></span></h3><div class="content"><ul class="arglists"><li><code><span class="sexp"><span class="punctuation">[</span><span class="symbol">writer</span><span class="punctuation">]</span></span></code></li></ul><div class="docstring"><p>Given a <code>java.io.BufferedWriter</code>, write a Negative Commit Acknowledgement Block (NAK) into the writer and flush.</p></div></div></div></div></section></section></div></main></div><div class="column"><nav class="toc"><section class="namespace"><h3><a href="#ns___pipehat.api">pipehat.api</a></h3><section class="publics"><h4>Publics</h4><ul><li><a href="#ack">ack</a></li><li><a href="#nak">nak</a></li><li><a href="#read">read</a></li><li><a href="#read%2Bstring">read+string</a></li><li><a href="#read-string">read-string</a></li><li><a href="#shape">shape</a></li><li><a href="#write">write</a></li><li><a href="#write-string">write-string</a></li></ul></section></section></nav></div></div></body></html>